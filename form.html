<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Azure Local Workload Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      max-width: 400px;
    }
    h1 {
      margin-bottom: 1rem;
    }
    .form-field {
      display: flex;
      flex-direction: column;
      margin-bottom: 1.2rem;
    }
    .form-field label {
      font-weight: bold;
      margin-bottom: 0.3rem;
    }
    .form-field input {
      padding: 0.5rem;
      font-size: 1rem;
    }
    .helper-text {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.3rem;
    }
    button {
      margin-top: 1rem;
      padding: 0.7rem;
      font-size: 1.1rem;
      cursor: pointer;
    }
    input-path {
      border: 2px solid #0078d4;        /* Dell-friendly blue border */
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 4px;
      background-color: #f0f4f8;        /* Soft contrast fill */
    }

    .input-path legend {
      font-weight: bold;
      padding: 0 0.5rem;
    }

    .estimate-path {
      border-color: #2f6f44;            /* Green accent if you’d like differentiation */
    }

    .measured-path {
      border-color: #006c8e;            /* Teal accent for measured */
    }
  </style>
</head>
<body>
  <h1>Azure Local Workload Calculator</h1>
  <p>Enter the following details to calculate compute, memory, and storage requirements:</p>

  <form action="index.php" method="post">
    
    <!-- Input Mode Selection -->
    <div class="form-field">
      <label><input type="radio" name="inputMode" value="estimate" checked> Estimate via vCPU/pCPU/speed</label><br>
      <label><input type="radio" name="inputMode" value="measured"> I know the Compute Capacity (GHz)</label>
    </div>

    <!-- Always-visible Total VMs field -->
      <div class="form-field">
        <label for="vmCount">Total Number of VMs</label>
        <input type="number" id="vmCount" name="vmCount" min="1" required value="1">
        <div class="helper-text">Number of virtual machines—used for per‑VM metrics.</div>
      </div>
    
    <!-- Estimate-block -->
       <fieldset class="input-path estimate-path">
        <legend>Estimate Inputs</legend>
          <div id="estimateInputs"> 
          <div class="form-field">
              <label for="vmCount">Total Number of VMs</label>
              <input type="number" id="vmCount" name="vmCount" min="1" required>
              <div class="helper-text">How many virtual machines will you deploy?</div>
          </div>

            <div class="form-field">
              <label for="vcpuCount">Total Number of vCPUs</label>
              <input type="number" id="vcpuCount" name="vcpuCount" min="1" required>
              <div class="helper-text">Sum of all vCPUs across VMs.</div>
            </div>

            <div class="form-field">
              <label for="pcpuRatio">pCPU to vCPU Ratio (1:x)</label>
              <input type="number" id="pcpuRatio" name="pcpuRatio" min="1" required>
              <div class="helper-text">Indicate "x" in the 1:x ratio (e.g., 2 means 1:2).</div>
            </div>

            <div class="form-field">
              <label for="speed">Speed Reference (GHz)</label>
              <input
                type="number"
                id="speed"
                name="speed"
                step="0.01"
                min="0.01"
                value="2.1"
                required
              >
            <div class="helper-text">
              Processing speed per pCPU (default: 2.1 GHz)
            </div>
          </div>
        </div>
      </fieldset>

    <!-- Measured-block -->
       <fieldset class="input-path measured-path" style="display:none;">
        <legend>Measured Compute Capacity</legend>
        <div id="measuredInputs" style="display:none;">
          <div class="form-field">
            <label for="measuredCompute">Compute Capacity (GHz)</label>
            <input type="number" step="0.1" min="0" id="measuredCompute" name="measuredCompute" value="0">
            <div class="helper-text">Total measured compute speed across all pCPUs</div>
          </div>
        </div>

        <div class="form-field">
          <label for="ram">Total RAM (GiB)</label>
          <input type="number" id="ram" name="ram" min="1" required>
          <div class="helper-text">Aggregate memory size for all VMs.</div>
        </div>

        <div class="form-field">
          <label for="storage">Total Storage (GiB)</label>
          <input type="number" id="storage" name="storage" min="1" required>
          <div class="helper-text">Sum of disk space across all VMs.</div>
        </div>
      </fieldset>

    <!-- Growth rate inputs -->
    <div class="form-field">
      <label for="growthSpeed">Expected Growth Rate – Speed (%)</label>
      <input type="number" id="growthSpeed" name="growthSpeed" min="0" step="0.1" value="0" required>
      <div class="helper-text">Annual % increase for compute speed</div>
    </div>

    <div class="form-field">
      <label for="growthRam">Expected Growth Rate – RAM (%)</label>
      <input type="number" id="growthRam" name="growthRam" min="0" step="0.1" value="0" required>
      <div class="helper-text">Annual % increase for memory</div>
    </div>

    <div class="form-field">
      <label for="growthStorage">Expected Growth Rate – Storage (%)</label>
      <input type="number" id="growthStorage" name="growthStorage" min="0" step="0.1" value="0" required>
      <div class="helper-text">Annual % increase for storage</div>
    </div>

    <!-- Growth period dropdown -->
    <div class="form-field">
      <label for="growthYears">Growth Period (Years)</label>
      <select id="growthYears" name="growthYears" required>
        <option value="1">1 Year</option>
        <option value="2">2 Years</option>
        <option value="3">3 Years</option>
        <option value="4">4 Years</option>
        <option value="5">5 Years</option>
      </select>
      <div class="helper-text">Select span for projection (aligns with CAPEX TCO planning)</div>
    </div>

    <button type="submit">Calculate Requirements</button>
  </form>
</body>
<script>
  const estimateBlock = document.querySelector('.estimate-path');
  const measuredBlock = document.querySelector('.measured-path');

  document.querySelectorAll('input[name="inputMode"]').forEach(el => {
    el.addEventListener('change', () => {
      if (el.value === 'measured' && el.checked) {
        estimateBlock.style.display = 'none';
        measuredBlock.style.display = 'block';
      } else {
        estimateBlock.style.display = 'block';
        measuredBlock.style.display = 'none';
      }
    });
  });
</script>
</html>